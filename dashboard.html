
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<title>Boss Dashboard</title>
</head>
<body>
<h2>PRAKALYA NETZONE</h2>
<button onclick="openCreateStaff()">âž• Create Staff</button>
<div id="createStaffModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
<div style="background:white; padding:20px; border-radius:10px; max-width:300px; width:90%;">
<h3 style="text-align:center;">Create Staff</h3>
<input id="newStaffID" placeholder="Staff ID" style="width:100%; padding:10px; margin-bottom:10px;" type="text"/>
<input id="newStaffPass" placeholder="Password" style="width:100%; padding:10px; margin-bottom:10px;" type="password"/>
<button onclick="createStaffUser()" style="width:100%; padding:10px;">Save</button>
<button onclick="closeCreateStaff()" style="width:100%; padding:10px; margin-top:5px;">Cancel</button>
</div>
</div>
<script>
    function openCreateStaff() {
      document.getElementById("createStaffModal").style.display = "flex";
    }
    function closeCreateStaff() {
      document.getElementById("createStaffModal").style.display = "none";
    }

    function createStaffUser() {
      const id = document.getElementById("newStaffID").value.trim();
      const pass = document.getElementById("newStaffPass").value.trim();
      if (!id || !pass) return alert("Fill both fields");

      fetch("https://script.google.com/macros/s/AKfycbxr8t_7KjmEO8LCPCfJ2ssDMpjw2dFoYHOrcK46o-oLg6LXVXlsUKkacD9VcFMorOcpqA/exec", {
        method: "POST",
        body: new URLSearchParams({
          action: "addStaffUser",
          userID: id,
          password: pass
        })
      })
      .then(res => res.text())
      .then(txt => {
        if (txt === "success") {
          alert("Staff added!");
          let users = JSON.parse(localStorage.getItem("staffUsers") || "{}");
          users[id] = pass;
          localStorage.setItem("staffUsers", JSON.stringify(users));
          closeCreateStaff();
        } else {
          alert("Failed to add staff");
        }
      });
    }
  </script>
</body>
</html>
